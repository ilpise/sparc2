<div
  id="sparc-sidebar-left"
  class="geodash-sidebar geodash-sidebar-left geodash-controller sidebar-open sidebar-left-open">
  <div class="geodash-sidebar-charts" style="width:100%;">
    <!-- Nav tabs -->
    <ul class="nav nav-tabs" role="tablist">
      <li label="Welcome" target="sparc-sidebar-left-welcome" active="true" geodash-tab></li>
      <li label="Charts" target="sparc-sidebar-left-charts" active="false" geodash-tab></li>
      <li label="Layers" target="sparc-sidebar-left-layers" active="false" geodash-tab></li>
    </ul>
    <!-- Tab panes -->
    <div class="tab-content">
      <div
        id="sparc-sidebar-left-welcome"
        role="tabpanel"
        class="tab-pane fade in active"
        style="padding: 10px;">
        <div
          ng-bind-html="map_config.welcome.intro | md2html">
        </div>
      </div>
      <div
        id="sparc-sidebar-left-charts"
        role="tabpanel"
        class="tab-pane fade"
        style="padding: 10px;">
        <div
          ng-repeat="chart in charts track by $index"
          on-repeat-done="chart_done"
          data-repeat-index="{{ $index }}"
          id="sparc-sidebar-left-charts-chart-{{ chart.id }}">
          <div>
            <h4
              style="text-align:center;"
              ng-bind-html="chart.title | md2html"></h4>
          </div>
          <div
            id="{{ chart.element }}"
            class="geodash-sidebar-chart"
            style="width:360px;margin:0 auto;"
          ></div>
        </div>
      </div>
      <div
        id="sparc-sidebar-left-layers"
        role="tabpanel"
        class="tab-pane fade"
        style="padding: 10px;">
        <h4>Selected Layers</h4>
        <div class="geodash-sidebar-sparclayers">
          <div
            ng-repeat="layer in visiblefeaturelayers track by $index"
            ng-init="layerIndex = $index"
            ng-if="layer.legend!==undefined"
            class="geodash-sidebar-item noselect"
            data-layer="{{ layer.id }}">
            <div class="geodash-sidebar-item-left">
              <div class="geodash-sidebar-item-icon geodash-sidebar-item-visibility">
                 <a
                   class="geodash-sidebar-item-visibility-button geodash-intent"
                   data-intent-name="hideLayer"
                   data-intent-data="{&quot;layer&quot;:&quot;{{ layer.id }}&quot;}"
                   data-intent-ctrl="sparc-sidebar-left">
                   <i class="fa fa-times"></i>
                 </a>
              </div><!--
              --><div class="geodash-sidebar-item-icon geodash-sidebar-item-more">
                <a
                  class="geodash-intent"
                  data-intent-name="toggleModal"
                  data-intent-data="{{ html5data('toggleModal', 'geodash-modal-layer-more', 'featurelayer', layer) }}"
                  data-intent-ctrl="sparc-sidebar-left">
                  <i class="fa fa-info-circle"></i>
                </a>
              </div><!--
              --><div
                   ng-class="layer.type == 'geojson' ? 'geodash-sidebar-item-icon geodash-sidebar-item-zoomto': 'geodash-sidebar-item-icon geodash-sidebar-item-zoomto fade disabled'">
                 <a
                   class="geodash-sidebar-item-zoomto-button geodash-intent"
                   data-intent-name="zoomToLayer"
                   data-intent-data="{&quot;layer&quot;:&quot;{{ layer.id }}&quot;}"
                   data-intent-ctrl="sparc-sidebar-left">
                   <i class="fa fa-compress"></i>
                 </a>
              </div>
            </div><!--
            --><div class="geodash-sidebar-item-right">
              <div
                class="geodash-sidebar-item-label"
                style="width: 100%;">
                <span ng-bind-html="layer.legend.label | md2html"></span>
              </div>
            </div>
          </div>
        </div>
        <hr>
        <h4>SPARC Layers</h4>
        <div class="geodash-sidebar-sparclayers">
          <div
            ng-repeat="layer in sparclayers track by $index"
            ng-init="layerIndex = $index"
            ng-if="layer.legend!==undefined"
            class="geodash-sidebar-item noselect"
            data-layer="{{ layer.id }}">
            <div class="geodash-sidebar-item-left">
              <div class="geodash-sidebar-item-icon geodash-sidebar-item-more">
                <a
                  class="geodash-intent"
                  data-intent-name="toggleModal"
                  data-intent-data="{{ html5data('toggleModal', 'geodash-modal-layer-more', 'featurelayer', layer) }}"
                  data-intent-ctrl="sparc-sidebar-left">
                  <i class="fa fa-info-circle"></i>
                </a>
              </div>
            </div><!--
            --><div class="geodash-sidebar-item-right">
              <div
                class="geodash-sidebar-item-label geodash-intent"
                style="width: 100%; opacity: 0.6;"
                data-intent-name="showLayer"
                data-intent-data="{&quot;layer&quot;:&quot;{{ layer.id }}&quot;}"
                data-intent-ctrl="sparc-sidebar-left">
                <span ng-bind-html="layer.legend.label | md2html"></span>
              </div>
            </div>
          </div>
        </div>
        <hr>
        <h4>WFP Layers</h4>
        <div class="geodash-sidebar-sparclayers">
          <div
            ng-repeat="layer in wfplayers track by $index"
            ng-init="layerIndex = $index"
            ng-if="layer.legend!==undefined"
            class="geodash-sidebar-item noselect"
            data-layer="{{ layer.id }}">
            <div class="geodash-sidebar-item-left">
              <div class="geodash-sidebar-item-icon geodash-sidebar-item-more">
                <a
                  class="geodash-intent"
                  data-intent-name="toggleModal"
                  data-intent-data="{{ html5data('toggleModal', 'geodash-modal-layer-more', 'featurelayer', layer) }}"
                  data-intent-ctrl="sparc-sidebar-left">
                  <i class="fa fa-info-circle"></i>
                </a>
              </div>
            </div><!--
            --><div class="geodash-sidebar-item-right">
              <div
                class="geodash-sidebar-item-label geodash-intent"
                style="width: 100%; opacity: 0.6;"
                data-intent-name="showLayer"
                data-intent-data="{&quot;layer&quot;:&quot;{{ layer.id }}&quot;}"
                data-intent-ctrl="sparc-sidebar-left">
                <span ng-bind-html="layer.legend.label | md2html"></span>
              </div>
            </div>
          </div>
        </div>
        <hr>
        <h4>Other Layers</h4>
        <div class="geodash-sidebar-otherlayers">
          <div
            ng-repeat="layer in otherlayers track by $index"
            ng-init="layerIndex = $index"
            ng-if="layer.legend!==undefined"
            class="geodash-sidebar-item noselect"
            data-layer="{{ layer.id }}">
            <div class="geodash-sidebar-item-left">
              <div class="geodash-sidebar-item-icon geodash-sidebar-item-more">
                <a
                  class="geodash-intent"
                  data-intent-name="toggleModal"
                  data-intent-data="{{ html5data('toggleModal', 'geodash-modal-layer-more', 'featurelayer', layer) }}"
                  data-intent-ctrl="sparc-sidebar-left">
                  <i class="fa fa-info-circle"></i>
                </a>
              </div>
            </div><!--
            --><div class="geodash-sidebar-item-right">
              <div
                class="geodash-sidebar-item-label geodash-intent"
                style="width: 100%; opacity: 0.6;"
                data-intent-name="showLayer"
                data-intent-data="{&quot;layer&quot;:&quot;{{ layer.id }}&quot;}"
                data-intent-ctrl="sparc-sidebar-left">
                <span ng-bind-html="layer.legend.label | md2html"></span>
              </div>
            </div>
          </div>
        </div>
        <hr>
        <h4>Base Layers</h4>
        <div class="geodash-sidebar-baselayers geodash-radio-group">
          <div
            ng-repeat="layer in baselayers track by $index"
            ng-init="layerIndex = $index"
            ng-if="layer.legend!==undefined"
            class="geodash-sidebar-item noselect"
            data-layer="{{ layer.id }}">
            <div class="geodash-sidebar-item-left">
              <div class="geodash-sidebar-item-icon geodash-sidebar-item-more">
                <a
                  class="geodash-intent"
                  data-intent-name="toggleModal"
                  data-intent-data="{{ html5data('toggleModal', 'geodash-modal-layer-more', 'baselayer', layer) }}"
                  data-intent-ctrl="sparc-sidebar-left">
                  <i class="fa fa-info-circle"></i>
                </a>
              </div><!--
              --><div class="geodash-sidebar-item-icon geodash-sidebar-item-visibility">
                   <a
                     ng-class=" layer.id == state.view.baselayer ? 'geodash-sidebar-item-visibility-button geodash-intent geodash-radio geodash-on' : 'geodash-sidebar-item-visibility-button geodash-intent geodash-radio'"
                     data-intent-name="switchBaseLayer"
                     data-intent-data="{&quot;layer&quot;:&quot;{{ layer.id }}&quot;}"
                     data-intent-class-on="geodash-on"
                     data-intent-class-off=""
                     data-intent-ctrl="sparc-sidebar-left">
                     <i class="fa fa-eye geodash-on"></i><i class="fa fa-eye-slash geodash-off"></i>
                   </a>
              </div><!--
              --><div class="geodash-sidebar-item-symbol" style="width: 10px;"></div>
            </div><!--
            --><div class="geodash-sidebar-item-right">
              <div
                class="geodash-sidebar-item-label"
                style="{{ layer.id == state.view.baselayer ? 'width: 100%;' : 'width: 100%;opacity: 0.4;' }}">
                <span ng-bind-html="layer.legend.label | md2html"></span>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>
